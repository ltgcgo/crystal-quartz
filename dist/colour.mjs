"use strict";let jt=Object.defineProperty;let qt=(t,e)=>{for(let r in e)jt(t,r,{get:e[r],enumerable:!0})};let F={};qt(F,{interpolate:()=>Ee,interpolateInv:()=>rt,isNone:()=>H,isString:()=>D,last:()=>Ne,mapRange:()=>oe,multiplyMatrices:()=>d,parseCoordGrammar:()=>Ae,parseFunction:()=>ze,serializeNumber:()=>O,skipNone:()=>me,toPrecision:()=>tt,type:()=>k});function d(t,e){let r=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map(s=>[s]));let o=e[0].length,a=e[0].map((s,i)=>e.map(l=>l[i])),n=t.map(s=>a.map(i=>{let l=0;if(!Array.isArray(s)){for(let f of i)l+=s*f;return l}for(let f=0;f<s.length;f++)l+=s[f]*(i[f]||0);return l}));return r===1&&(n=n[0]),o===1?n.map(s=>s[0]):n}function D(t){return k(t)==="string"}function k(t){return(Object.prototype.toString.call(t).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function O(t,{precision:e,unit:r}){return H(t)?"none":tt(t,e)+(r??"")}function H(t){return Number.isNaN(t)||t instanceof Number&&t?.none}function me(t){return H(t)?0:t}function tt(t,e){t=+t,e=+e;let r=(Math.floor(t)+"").length;if(e>r)return+t.toFixed(e-r);{let o=10**(r-e);return Math.round(t/o)*o}}let Ot={deg:1,grad:.9,rad:180/Math.PI,turn:360};function ze(t){if(!t)return;t=t.trim();let e=/^([a-z]+)\((.+?)\)$/i,r=/^-?[\d.]+$/,o=/%|deg|g?rad|turn$/,a=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g,n=t.match(e);if(n){let s=[];return n[2].replace(a,(i,l)=>{let f=l.match(o),p=l;if(f){let c=f[0],g=p.slice(0,-c.length);c==="%"?(p=new Number(g/100),p.type="<percentage>"):(p=new Number(g*Ot[c]),p.type="<angle>",p.unit=c)}else r.test(p)?(p=new Number(p),p.type="<number>"):p==="none"&&(p=new Number(NaN),p.none=!0);i.startsWith("/")&&(p=p instanceof Number?p:new Number(p),p.alpha=!0),typeof p=="object"&&p instanceof Number&&(p.raw=l),s.push(p)}),{name:n[1].toLowerCase(),rawName:n[1],rawArgs:n[2],args:s}}}function Ne(t){return t[t.length-1]}function Ee(t,e,r){return isNaN(t)?e:isNaN(e)?t:t+(e-t)*r}function rt(t,e,r){return(r-t)/(e-t)}function oe(t,e,r){return Ee(e[0],e[1],rt(t[0],t[1],r))}function Ae(t){return t.map(e=>e.split("|").map(r=>{r=r.trim();let o=r.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(o){let a=new String(o[1]);return a.range=[+o[2],+o[3]],a}return r}))}let fe=class{add(e,r,o){if(typeof arguments[0]!="string"){for(let e in arguments[0])this.add(e,arguments[0][e],arguments[1]);return}(Array.isArray(e)?e:[e]).forEach(function(a){this[a]=this[a]||[],r&&this[a][o?"unshift":"push"](r)},this)}run(e,r){this[e]=this[e]||[],this[e].forEach(function(o){o.call(r&&r.context?r.context:r,r)})}},Ht=new fe,S=Ht;let x={gamut_mapping:"lch.c",precision:5,deltaE:"76"};let b={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function pe(t){return Array.isArray(t)?t:b[t]}function X(t,e,r,o={}){if(t=pe(t),e=pe(e),!t||!e)throw new TypeError(`Missing white point to convert ${t?"":"from"}${!t&&!e?"/":""}${e?"":"to"}`);if(t===e)return r;let a={W1:t,W2:e,XYZ:r,options:o};if(S.run("chromatic-adaptation-start",a),a.M||(a.W1===b.D65&&a.W2===b.D50?a.M=[[1.0479298208405488,.022946793341019088,-.05019222954313557],[.029627815688159344,.990434484573249,-.01707382502938514],[-.009243058152591178,.015055144896577895,.7518742899580008]]:a.W1===b.D50&&a.W2===b.D65&&(a.M=[[.9554734527042182,-.023098536874261423,.0632593086610217],[-.028369706963208136,1.0099954580058226,.021041398966943008],[.012314001688319899,-.020507696433477912,1.3303659366080753]])),S.run("chromatic-adaptation-end",a),a.M)return d(a.M,a.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}let Ft=75e-6,m=class t{constructor(e){this.id=e.id,this.name=e.name,this.base=e.base?t.get(e.base):null,this.aliases=e.aliases,this.base&&(this.fromBase=e.fromBase,this.toBase=e.toBase);let r=e.coords??this.base.coords;for(let a in r)"name"in r[a]||(r[a].name=a);this.coords=r;let o=e.white??this.base.white??"D65";this.white=pe(o),this.formats=e.formats??{};for(let a in this.formats){let n=this.formats[a];n.type||="function",n.name||=a}e.cssId&&!this.formats.functions?.color?(this.formats.color={id:e.cssId},Object.defineProperty(this,"cssId",{value:e.cssId})):this.formats?.color&&!this.formats?.color.id&&(this.formats.color.id=this.id),this.referred=e.referred,Object.defineProperty(this,"path",{value:Wt(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),S.run("colorspace-init-end",this)}inGamut(e,{epsilon:r=Ft}={}){if(this.isPolar)return e=this.toBase(e),this.base.inGamut(e,{epsilon:r});let o=Object.values(this.coords);return e.every((a,n)=>{let s=o[n];if(s.type!=="angle"&&s.range){if(Number.isNaN(a))return!0;let[i,l]=s.range;return(i===void 0||a>=i-r)&&(l===void 0||a<=l+r)}return!0})}get cssId(){return this.formats.functions?.color?.id||this.id}get isPolar(){for(let e in this.coords)if(this.coords[e].type==="angle")return!0;return!1}getFormat(e){if(typeof e=="object")return e=ot(e,this),e;let r;return e==="default"?r=Object.values(this.formats)[0]:r=this.formats[e],r?(r=ot(r,this),r):null}equals(e){return e?this===e||this.id===e.id:!1}to(e,r){if(arguments.length===1&&([e,r]=[e.space,e.coords]),e=t.get(e),this.equals(e))return r;r=r.map(i=>Number.isNaN(i)?0:i);let o=this.path,a=e.path,n,s;for(let i=0;i<o.length&&o[i].equals(a[i]);i++)n=o[i],s=i;if(!n)throw new Error(`Cannot convert between color spaces ${this} and ${e}: no connection space was found`);for(let i=o.length-1;i>s;i--)r=o[i].toBase(r);for(let i=s+1;i<a.length;i++)r=a[i].fromBase(r);return r}from(e,r){return arguments.length===1&&([e,r]=[e.space,e.coords]),e=t.get(e),e.to(this,r)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let e=[];for(let r in this.coords){let o=this.coords[r],a=o.range||o.refRange;e.push(a?.min??0)}return e}static registry={};static get all(){return[...new Set(Object.values(t.registry))]}static register(e,r){if(arguments.length===1&&(r=arguments[0],e=r.id),r=this.get(r),this.registry[e]&&this.registry[e]!==r)throw new Error(`Duplicate color space registration: '${e}'`);if(this.registry[e]=r,arguments.length===1&&r.aliases)for(let o of r.aliases)this.register(o,r);return r}static get(e,...r){if(!e||e instanceof t)return e;if(k(e)==="string"){let a=t.registry[e.toLowerCase()];if(!a)throw new TypeError(`No color space found with id = "${e}"`);return a}if(r.length)return t.get(...r);throw new TypeError(`${e} is not a valid color space`)}static resolveCoord(e,r){let o=k(e),a,n;if(o==="string"?e.includes(".")?[a,n]=e.split("."):[a,n]=[,e]:Array.isArray(e)?[a,n]=e:(a=e.space,n=e.coordId),a=t.get(a),a||(a=r),!a)throw new TypeError(`Cannot resolve coordinate reference ${e}: No color space specified and relative references are not allowed here`);if(o=k(n),o==="number"||o==="string"&&n>=0){let l=Object.entries(a.coords)[n];if(l)return{space:a,id:l[0],index:n,...l[1]}}a=t.get(a);let s=n.toLowerCase(),i=0;for(let l in a.coords){let f=a.coords[l];if(l.toLowerCase()===s||f.name?.toLowerCase()===s)return{space:a,id:l,index:i,...f};i++}throw new TypeError(`No "${n}" coordinate found in ${a.name}. Its coordinates are: ${Object.keys(a.coords).join(", ")}`)}static DEFAULT_FORMAT={type:"functions",name:"color"}};function Wt(t){let e=[t];for(let r=t;r=r.base;)e.push(r);return e}function ot(t,{coords:e}={}){if(t.coords&&!t.coordGrammar){t.type||="function",t.name||="color",t.coordGrammar=Ae(t.coords);let r=Object.entries(e).map(([o,a],n)=>{let s=t.coordGrammar[n][0],i=a.range||a.refRange,l=s.range,f="";return s=="<percentage>"?(l=[0,100],f="%"):s=="<angle>"&&(f="deg"),{fromRange:i,toRange:l,suffix:f}});t.serializeCoords=(o,a)=>o.map((n,s)=>{let{fromRange:i,toRange:l,suffix:f}=r[s];return i&&l&&(n=oe(i,l,n)),n=O(n,{precision:a,unit:f}),n})}return t}let M=new m({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});let u=class extends m{constructor(e){e.coords||(e.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),e.base||(e.base=M),e.toXYZ_M&&e.fromXYZ_M&&(e.toBase??=r=>{let o=d(e.toXYZ_M,r);return this.white!==this.base.white&&(o=X(this.white,this.base.white,o)),o},e.fromBase??=r=>(r=X(this.base.white,this.white,r),d(e.fromXYZ_M,r))),e.referred??="display",super(e)}};let Jt=new Set(["<number>","<percentage>","<angle>"]);function W(t,{meta:e}={}){let r={str:String(t)?.trim()};if(S.run("parse-start",r),r.color)return r.color;if(r.parsed=ze(r.str),r.parsed){let o=r.parsed.name;if(o==="color"){let a=r.parsed.args.shift(),n=r.parsed.rawArgs.indexOf("/")>0?r.parsed.args.pop():1;for(let i of m.all){let l=i.getFormat("color");if(l&&(a===l.id||l.ids?.includes(a))){let f=Object.keys(i.coords).map((p,c)=>r.parsed.args[c]||0);return e&&(e.formatId="color"),{spaceId:i.id,coords:f,alpha:n}}}let s="";if(a in m.registry){let i=m.registry[a].formats?.functions?.color?.id;i&&(s=`Did you mean color(${i})?`)}throw new TypeError(`Cannot parse color(${a}). `+(s||"Missing a plugin?"))}else for(let a of m.all){let n=a.getFormat(o);if(n&&n.type==="function"){let s=1;(n.lastAlpha||Ne(r.parsed.args).alpha)&&(s=r.parsed.args.pop());let i=r.parsed.args,l;return n.coordGrammar&&(l=Object.entries(a.coords).map(([f,p],c)=>{let g=n.coordGrammar[c],L=i[c],C=L?.type,N;if(L.none?N=g.find(z=>Jt.has(z)):N=g.find(z=>z==C),!N){let z=p.name||f;throw new TypeError(`${C??L.raw} not allowed for ${z} in ${o}()`)}let Y=N.range;C==="<percentage>"&&(Y||=[0,1]);let j=p.range||p.refRange;return Y&&j&&(i[c]=oe(Y,j,i[c])),N})),e&&Object.assign(e,{formatId:n.name,types:l}),{spaceId:a.id,coords:i,alpha:s}}}}else for(let o of m.all)for(let a in o.formats){let n=o.formats[a];if(n.type!=="custom"||n.test&&!n.test(r.str))continue;let s=n.parse(r.str);if(s)return s.alpha??=1,e&&(e.formatId=a),s}throw new TypeError(`Could not parse ${t} as a color. Missing a plugin?`)}function h(t){if(!t)throw new TypeError("Empty color reference");D(t)&&(t=W(t));let e=t.space||t.spaceId;return e instanceof m||(t.space=m.get(e)),t.alpha===void 0&&(t.alpha=1),t}function G(t,e){return e=m.get(e),e.from(t)}function y(t,e){let{space:r,index:o}=m.resolveCoord(e,t.space);return G(t,r)[o]}function J(t,e,r){return e=m.get(e),t.coords=e.to(t.space,r),t}function E(t,e,r){if(t=h(t),arguments.length===2&&k(arguments[1])==="object"){let o=arguments[1];for(let a in o)E(t,a,o[a])}else{typeof r=="function"&&(r=r(y(t,e)));let{space:o,index:a}=m.resolveCoord(e,t.space),n=G(t,o);n[a]=r,J(t,o,n)}return t}let ae=new m({id:"xyz-d50",name:"XYZ D50",white:"D50",base:M,fromBase:t=>X(M.white,"D50",t),toBase:t=>X("D50",M.white,t),formats:{color:{}}});let Qt=216/24389,at=24/116,ue=24389/27,_e=b.D50,R=new m({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:_e,base:ae,fromBase(t){let r=t.map((o,a)=>o/_e[a]).map(o=>o>Qt?Math.cbrt(o):(ue*o+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>at?Math.pow(e[0],3):(116*e[0]-16)/ue,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/ue,e[2]>at?Math.pow(e[2],3):(116*e[2]-16)/ue].map((o,a)=>o*_e[a])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function Q(t){return(t%360+360)%360}let ne=new m({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:R,fromBase(t){let[e,r,o]=t,a,n=.02;return Math.abs(r)<n&&Math.abs(o)<n?a=NaN:a=Math.atan2(o,r)*180/Math.PI,[e,Math.sqrt(r**2+o**2),Q(a)]},toBase(t){let[e,r,o]=t;return r<0&&(r=0),isNaN(o)&&(o=0),[e,r*Math.cos(o*Math.PI/180),r*Math.sin(o*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});let nt=25**7,ce=Math.PI,it=180/ce,K=ce/180;function de(t,e,{kL:r=1,kC:o=1,kH:a=1}={}){let[n,s,i]=R.from(t),l=ne.from(R,[n,s,i])[1],[f,p,c]=R.from(e),g=ne.from(R,[f,p,c])[1];l<0&&(l=0),g<0&&(g=0);let C=((l+g)/2)**7,N=.5*(1-Math.sqrt(C/(C+nt))),Y=(1+N)*s,j=(1+N)*p,z=Math.sqrt(Y**2+i**2),V=Math.sqrt(j**2+c**2),v=Y===0&&i===0?0:Math.atan2(i,Y),U=j===0&&c===0?0:Math.atan2(c,j);v<0&&(v+=2*ce),U<0&&(U+=2*ce),v*=it,U*=it;let Tt=f-n,Je=V-z,q=U-v,ee=v+U,Qe=Math.abs(q),te;z*V===0?te=0:Qe<=180?te=q:q>180?te=q-360:q<-180?te=q+360:console.log("the unthinkable has happened");let Ke=2*Math.sqrt(V*z)*Math.sin(te*K/2),Yt=(n+f)/2,Be=(z+V)/2,Ve=Math.pow(Be,7),P;z*V===0?P=ee:Qe<=180?P=ee/2:ee<360?P=(ee+360)/2:P=(ee-360)/2;let ve=(Yt-50)**2,Dt=1+.015*ve/Math.sqrt(20+ve),Ue=1+.045*Be,re=1;re-=.17*Math.cos((P-30)*K),re+=.24*Math.cos(2*P*K),re+=.32*Math.cos((3*P+6)*K),re-=.2*Math.cos((4*P-63)*K);let et=1+.015*Be*re,Xt=30*Math.exp(-1*((P-275)/25)**2),Zt=2*Math.sqrt(Ve/(Ve+nt)),$t=-1*Math.sin(2*Xt*K)*Zt,le=(Tt/(r*Dt))**2;return le+=(Je/(o*Ue))**2,le+=(Ke/(a*et))**2,le+=$t*(Je/(o*Ue))*(Ke/(a*et)),Math.sqrt(le)}let Vt=75e-6;function A(t,e=t.space,{epsilon:r=Vt}={}){t=h(t),e=m.get(e);let o=t.coords;return e!==t.space&&(o=e.from(t)),e.inGamut(o,{epsilon:r})}function _(t){return{space:t.space,coords:t.coords.slice(),alpha:t.alpha}}function B(t,{method:e=x.gamut_mapping,space:r=t.space}={}){if(D(arguments[1])&&(r=arguments[1]),r=m.get(r),A(t,r,{epsilon:0}))return h(t);let o=w(t,r);if(e!=="clip"&&!A(t,r)){let a=B(_(o),{method:"clip",space:r});if(de(t,a)>2){let n=m.resolveCoord(e),s=n.space,i=n.id,l=w(o,s),p=(n.range||n.refRange)[0],c=.01,g=p,L=y(l,i);for(;L-g>c;){let C=_(l);C=B(C,{space:r,method:"clip"}),de(l,C)-2<c?g=y(l,i):L=y(l,i),E(l,i,(g+L)/2)}o=w(l,r)}else o=a}if(e==="clip"||!A(o,r,{epsilon:0})){let a=Object.values(r.coords).map(n=>n.range||[]);o.coords=o.coords.map((n,s)=>{let[i,l]=a[s];return i!==void 0&&(n=Math.max(i,n)),l!==void 0&&(n=Math.min(n,l)),n})}return r!==t.space&&(o=w(o,t.space)),t.coords=o.coords,t}B.returns="color";function w(t,e,{inGamut:r}={}){t=h(t),e=m.get(e);let o=e.from(t),a={space:e,coords:o,alpha:t.alpha};return r&&(a=B(a)),a}w.returns="color";function I(t,{precision:e=x.precision,format:r="default",inGamut:o=!0,...a}={}){let n;t=h(t);let s=r;r=t.space.getFormat(r)??t.space.getFormat("default")??m.DEFAULT_FORMAT,o||=r.toGamut;let i=t.coords.slice();if(o&&!A(t)&&(i=B(_(t),o===!0?void 0:o).coords),r.type==="custom")if(a.precision=e,r.serialize)n=r.serialize(i,t.alpha,a);else throw new TypeError(`format ${s} can only be used to parse colors, not for serialization`);else{let l=r.name||"color";r.serializeCoords?i=r.serializeCoords(i,e):e!==null&&(i=i.map(g=>O(g,{precision:e})));let f=[...i];if(l==="color"){let g=r.id||r.ids?.[0]||t.space.id;f.unshift(g)}let p=t.alpha;e!==null&&(p=O(p,{precision:e}));let c=t.alpha>=1||r.noAlpha?"":`${r.commas?",":" /"} ${p}`;n=`${l}(${f.join(r.commas?", ":" ")}${c})`}return n}let vt=[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],Ut=[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]],Z=new u({id:"rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:vt,fromXYZ_M:Ut,formats:{color:{}}});let he=1.09929682680944,st=.018053968510807,Pe=new u({id:"rec2020",name:"REC.2020",base:Z,toBase(t){return t.map(function(e){return e<st*4.5?e/4.5:Math.pow((e+he-1)/he,1/.45)})},fromBase(t){return t.map(function(e){return e>=st?he*Math.pow(e,.45)-(he-1):4.5*e})},formats:{color:{}}});let er=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],tr=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]],ke=new u({id:"p3-linear",name:"Linear P3",white:"D65",toXYZ_M:er,fromXYZ_M:tr});let rr=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],or=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],Ge=new u({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:rr,fromXYZ_M:or,formats:{color:{}}});let Ie={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let lt=Array(3).fill("<percentage> | <number>[0, 255]"),mt=Array(3).fill("<number>[0, 255]"),T=new u({id:"srgb",name:"sRGB",base:Ge,fromBase:t=>t.map(e=>{let r=e<0?-1:1,o=e*r;return o>.0031308?r*(1.055*o**(1/2.4)-.055):12.92*e}),toBase:t=>t.map(e=>{let r=e<0?-1:1,o=e*r;return o<.04045?e/12.92:r*((o+.055)/1.055)**2.4}),formats:{rgb:{coords:lt},rgb_number:{name:"rgb",commas:!0,coords:mt,noAlpha:!0},color:{},rgba:{coords:lt,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:mt},hex:{type:"custom",toGamut:!0,test:t=>/^#([a-f0-9]{3,4}){1,2}$/i.test(t),parse(t){t.length<=5&&(t=t.replace(/[a-f0-9]/gi,"$&$&"));let e=[];return t.replace(/[a-f0-9]{2}/gi,r=>{e.push(parseInt(r,16)/255)}),{spaceId:"srgb",coords:e.slice(0,3),alpha:e.slice(3)[0]}},serialize:(t,e,{collapse:r=!0}={})=>{e<1&&t.push(e),t=t.map(n=>Math.round(n*255));let o=r&&t.every(n=>n%17===0);return"#"+t.map(n=>o?(n/17).toString(16):n.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:t=>/^[a-z]+$/i.test(t),parse(t){t=t.toLowerCase();let e={spaceId:"srgb",coords:null,alpha:1};if(t==="transparent"?(e.coords=Ie.black,e.alpha=0):e.coords=Ie[t],e.coords)return e}}}});let Te=new u({id:"p3",name:"P3",base:ke,fromBase:T.fromBase,toBase:T.toBase,formats:{color:{id:"display-p3"}}});x.display_space=T;let ar;if(typeof CSS<"u"&&CSS.supports)for(let t of[R,Pe,Te]){let e=t.getMinCoords(),o=I({space:t,coords:e,alpha:1});if(CSS.supports("color",o)){x.display_space=t;break}}function ge(t,{space:e=x.display_space,...r}={}){let o=I(t,r);if(typeof CSS>"u"||CSS.supports("color",o)||!x.display_space)o=new String(o),o.color=t;else{let a=t;if((t.coords.some(H)||H(t.alpha))&&!(ar??=CSS.supports("color","hsl(none 50% 50%)"))&&(a=_(t),a.coords=a.coords.map(me),a.alpha=me(a.alpha),o=I(a,r),CSS.supports("color",o)))return o=new String(o),o.color=a,o;a=w(a,e),o=new String(I(a,r)),o.color=a}return o}function ie(t,e,r="lab"){r=m.get(r);let o=r.from(t),a=r.from(e);return Math.sqrt(o.reduce((n,s,i)=>{let l=a[i];return isNaN(s)||isNaN(l)?n:n+(l-s)**2},0))}function be(t,e){return t=h(t),e=h(e),t.space===e.space&&t.alpha===e.alpha&&t.coords.every((r,o)=>r===e.coords[o])}let nr=216/24389,ft=24/116,xe=24389/27,De=b.D65,pt=new m({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:De,base:M,fromBase(t){let r=t.map((o,a)=>o/De[a]).map(o=>o>nr?Math.cbrt(o):(xe*o+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>ft?Math.pow(e[0],3):(116*e[0]-16)/xe,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/xe,e[2]>ft?Math.pow(e[2],3):(116*e[2]-16)/xe].map((o,a)=>o*De[a])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});let za=Math.pow(5,.5)*.5+.5;let sr=Math.PI,Va=sr/180;let ut=203,se=new m({id:"xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:M,fromBase(t){return t.map(e=>Math.max(e*ut,0))},toBase(t){return t.map(e=>Math.max(e/ut,0))}});let Me=1.15,Ce=.66,ct=2610/2**14,lr=2**14/2610,dt=3424/2**12,ht=2413/2**7,gt=2392/2**7,mr=1.7*2523/2**5,bt=2**5/(1.7*2523),ye=-.56,Xe=16295499532821565e-27,fr=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],pr=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],ur=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],cr=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]],Ze=new m({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:se,fromBase(t){let[e,r,o]=t,a=Me*e-(Me-1)*o,n=Ce*r-(Ce-1)*e,i=d(fr,[a,n,o]).map(function(g){let L=dt+ht*(g/1e4)**ct,C=1+gt*(g/1e4)**ct;return(L/C)**mr}),[l,f,p]=d(ur,i);return[(1+ye)*l/(1+ye*l)-Xe,f,p]},toBase(t){let[e,r,o]=t,a=(e+Xe)/(1+ye-ye*(e+Xe)),s=d(cr,[a,r,o]).map(function(g){let L=dt-g**bt,C=gt*g**bt-ht;return 1e4*(L/C)**lr}),[i,l,f]=d(pr,s),p=(i+(Me-1)*f)/Me,c=(l+(Ce-1)*p)/Ce;return[p,c,f]},formats:{color:{}}});let xt=new m({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:Ze,fromBase(t){let[e,r,o]=t,a,n=2e-4;return Math.abs(r)<n&&Math.abs(o)<n?a=NaN:a=Math.atan2(o,r)*180/Math.PI,[e,Math.sqrt(r**2+o**2),Q(a)]},toBase(t){return[t[0],t[1]*Math.cos(t[2]*Math.PI/180),t[1]*Math.sin(t[2]*Math.PI/180)]},formats:{color:{}}});let yt=3424/4096,wt=2413/128,St=2392/128,Mt=2610/16384,dr=2523/32,hr=16384/2610,Ct=32/2523,gr=[[.3592,.6976,-.0358],[-.1922,1.1004,.0755],[.007,.0749,.8434]],br=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],xr=[[.9999888965628402,.008605050147287059,.11103437159861648],[1.00001110343716,-.008605050147287059,-.11103437159861648],[1.0000320633910054,.56004913547279,-.3206339100541203]],Mr=[[2.0701800566956137,-1.326456876103021,.20661600684785517],[.3649882500326575,.6804673628522352,-.04542175307585323],[-.04959554223893211,-.04942116118675749,1.1879959417328034]],Lt=new m({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:se,fromBase(t){let e=d(gr,t);return Cr(e)},toBase(t){let e=yr(t);return d(Mr,e)},formats:{color:{}}});function Cr(t){let e=t.map(function(r){let o=yt+wt*(r/1e4)**Mt,a=1+St*(r/1e4)**Mt;return(o/a)**dr});return d(br,e)}function yr(t){return d(xr,t).map(function(o){let a=Math.max(o**Ct-yt,0),n=wt-St*o**Ct;return 1e4*(a/n)**hr})}let wr=[[.8190224432164319,.3619062562801221,-.12887378261216414],[.0329836671980271,.9292868468965546,.03614466816999844],[.048177199566046255,.26423952494422764,.6335478258136937]],Sr=[[1.2268798733741557,-.5578149965554813,.28139105017721583],[-.04057576262431372,1.1122868293970594,-.07171106666151701],[-.07637294974672142,-.4214933239627914,1.5869240244272418]],Lr=[[.2104542553,.793617785,-.0040720468],[1.9779984951,-2.428592205,.4505937099],[.0259040371,.7827717662,-.808675766]],Rr=[[.9999999984505198,.39633779217376786,.2158037580607588],[1.0000000088817609,-.10556134232365635,-.06385417477170591],[1.0000000546724108,-.08948418209496575,-1.2914855378640917]],we=new m({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"L"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:M,fromBase(t){let r=d(wr,t).map(o=>Math.cbrt(o));return d(Lr,r)},toBase(t){let r=d(Rr,t).map(o=>o**3);return d(Sr,r)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});x.interpolationSpace="lab";let $e=new m({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:T,fromBase:t=>{let e=Math.max(...t),r=Math.min(...t),[o,a,n]=t,[s,i,l]=[NaN,0,(r+e)/2],f=e-r;if(f!==0){switch(i=l===0||l===1?0:(e-l)/Math.min(l,1-l),e){case o:s=(a-n)/f+(a<n?6:0);break;case a:s=(n-o)/f+2;break;case n:s=(o-a)/f+4}s=s*60}return[s,i*100,l*100]},toBase:t=>{let[e,r,o]=t;e=e%360,e<0&&(e+=360),r/=100,o/=100;function a(n){let s=(n+e/30)%12,i=r*Math.min(o,1-o);return o-i*Math.max(-1,Math.min(s-3,9-s,1))}return[a(0),a(8),a(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}});let je=new m({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:$e,fromBase(t){let[e,r,o]=t;r/=100,o/=100;let a=o+r*Math.min(o,1-o);return[e,a===0?0:200*(1-o/a),100*a]},toBase(t){let[e,r,o]=t;r/=100,o/=100;let a=o*(1-r/2);return[e,a===0||a===1?0:(o-a)/Math.min(a,1-a)*100,a*100]}});let Nr=new m({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:je,fromBase(t){let[e,r,o]=t;return[e,o*(100-r)/100,100-o]},toBase(t){let[e,r,o]=t;r/=100,o/=100;let a=r+o;if(a>=1){let i=r/a;return[e,0,i*100]}let n=1-o,s=n===0?0:1-r/n;return[e,s*100,n*100]},formats:{hwb:{coords:["<number> | <angle>","<percentage>","<percentage>"]}}});let Er=[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],Ar=[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]],qe=new u({id:"a98rgb-linear",name:"Linear Adobe® 98 RGB compatible",white:"D65",toXYZ_M:Er,fromXYZ_M:Ar});let _r=new u({id:"a98rgb",name:"Adobe® 98 RGB compatible",base:qe,toBase:t=>t.map(e=>Math.pow(Math.abs(e),563/256)*Math.sign(e)),fromBase:t=>t.map(e=>Math.pow(Math.abs(e),256/563)*Math.sign(e)),formats:{color:{id:"a98-rgb"}}});let Pr=[[.7977604896723027,.13518583717574031,.0313493495815248],[.2880711282292934,.7118432178101014,8565396060525902e-20],[0,0,.8251046025104601]],kr=[[1.3457989731028281,-.25558010007997534,-.05110628506753401],[-.5446224939028347,1.5082327413132781,.02053603239147973],[0,0,1.2119675456389454]],Oe=new u({id:"prophoto-linear",name:"Linear ProPhoto",white:"D50",base:ae,toXYZ_M:Pr,fromXYZ_M:kr});let Gr=1/512,Ir=16/512,Tr=new u({id:"prophoto",name:"ProPhoto",base:Oe,toBase(t){return t.map(e=>e<Ir?e/16:e**1.8)},fromBase(t){return t.map(e=>e>=Gr?e**(1/1.8):16*e)},formats:{color:{id:"prophoto-rgb"}}});let Yr=new m({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:we,fromBase(t){let[e,r,o]=t,a,n=2e-4;return Math.abs(r)<n&&Math.abs(o)<n?a=NaN:a=Math.atan2(o,r)*180/Math.PI,[e,Math.sqrt(r**2+o**2),Q(a)]},toBase(t){let[e,r,o]=t,a,n;return isNaN(o)?(a=0,n=0):(a=r*Math.cos(o*Math.PI/180),n=r*Math.sin(o*Math.PI/180)),[e,a,n]},formats:{oklch:{coords:["<number> | <percentage>","<number> | <percentage>[0,1]","<number> | <angle>"]}}});let Rt=203,Bt=2610/2**14,Dr=2**14/2610,Xr=2523/2**5,zt=2**5/2523,Nt=3424/2**12,Et=2413/2**7,At=2392/2**7,Zr=new u({id:"rec2100pq",name:"REC.2100-PQ",base:Z,toBase(t){return t.map(function(e){return(Math.max(e**zt-Nt,0)/(Et-At*e**zt))**Dr*1e4/Rt})},fromBase(t){return t.map(function(e){let r=Math.max(e*Rt/1e4,0),o=Nt+Et*r**Bt,a=1+At*r**Bt;return(o/a)**Xr})},formats:{color:{id:"rec2100-pq"}}});let _t=.17883277,Pt=.28466892,kt=.55991073,He=3.7743,$r=new u({id:"rec2100hlg",cssid:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:Z,toBase(t){return t.map(function(e){return e<=.5?e**2/3*He:(Math.exp((e-kt)/_t)+Pt)/12*He})},fromBase(t){return t.map(function(e){return e/=He,e<=1/12?Math.sqrt(3*e):_t*Math.log(12*e-Pt)+kt})},formats:{color:{id:"rec2100-hlg"}}});let Gt={};S.add("chromatic-adaptation-start",t=>{t.options.method&&(t.M=It(t.W1,t.W2,t.options.method))});S.add("chromatic-adaptation-end",t=>{t.M||(t.M=It(t.W1,t.W2,t.options.method))});function Se({id:t,toCone_M:e,fromCone_M:r}){Gt[t]=arguments[0]}function It(t,e,r="Bradford"){let o=Gt[r],[a,n,s]=d(o.toCone_M,t),[i,l,f]=d(o.toCone_M,e),p=[[i/a,0,0],[0,l/n,0],[0,0,f/s]],c=d(p,o.toCone_M);return d(o.fromCone_M,c)}Se({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599364,-1.1293816,.2198974],[.3611914,.6388125,-64e-7],[0,0,1.0890636]]});Se({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929,-.1470543,.1599627],[.4323053,.5183603,.0492912],[-.0085287,.0400428,.9684867]]});Se({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238,-.278869,.1827452],[.454369,.4735332,.0720978],[-.0096276,-.005698,1.0153256]]});Se({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.011254630531685,.1491867754444518],[.3875265432361372,.6214474419314753,-.008973985167612518],[-.01584149884933386,-.03412293802851557,1.04996443687785]]});Object.assign(b,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]});b.ACES=[.32168/.33767,1,(1-.32168-.33767)/.33767];let jr=[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],qr=[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]],Fe=new u({id:"acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:b.ACES,toXYZ_M:jr,fromXYZ_M:qr,formats:{color:{}}});let Le=2**-16,We=-.35828683,Re=(Math.log2(65504)+9.72)/17.52,Or=new u({id:"acescc",name:"ACEScc",coords:{r:{range:[We,Re],name:"Red"},g:{range:[We,Re],name:"Green"},b:{range:[We,Re],name:"Blue"}},referred:"scene",base:Fe,toBase(t){let e=-.3013698630136986;return t.map(function(r){return r<=e?(2**(r*17.52-9.72)-Le)*2:r<Re?2**(r*17.52-9.72):65504})},fromBase(t){return t.map(function(e){return e<=0?(Math.log2(Le)+9.72)/17.52:e<Le?(Math.log2(Le+e*.5)+9.72)/17.52:(Math.log2(e)+9.72)/17.52})},formats:{color:{}}});let $=class t{constructor(...e){let r;e.length===1&&(r=h(e[0]));let o,a,n;r?(o=r.space||r.spaceId,a=r.coords,n=r.alpha):[o,a,n]=e,Object.defineProperty(this,"space",{value:m.get(o),writable:!1,enumerable:!0,configurable:!0}),this.coords=a?a.slice():[0,0,0],this.alpha=n>1?1:n<0?0:n;for(let s=0;s<this.coords.length;s++)this.coords[s]==="NaN"&&(this.coords[s]=NaN);for(let s in this.space.coords)Object.defineProperty(this,s,{get:()=>this.get(s),set:i=>this.set(s,i)})}get spaceId(){return this.space.id}clone(){return new t(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...e){let r=ge(this,...e);return r.color=new t(r.color),r}static get(e,...r){return e instanceof t?e:new t(e,...r)}static defineFunction(e,r,o=r){let{instance:a=!0,returns:n}=o,s=function(...i){let l=r(...i);if(n==="color")l=t.get(l);else if(n==="function<color>"){let f=l;l=function(...p){let c=f(...p);return t.get(c)},Object.assign(l,f)}else n==="array<color>"&&(l=l.map(f=>t.get(f)));return l};e in t||(t[e]=s),a&&(t.prototype[e]=function(...i){return s(this,...i)})}static defineFunctions(e){for(let r in e)t.defineFunction(r,e[r],e[r])}static extend(e){if(e.register)e.register(t);else for(let r in e)t.defineFunction(r,e[r])}};$.defineFunctions({get:y,getAll:G,set:E,setAll:J,to:w,equals:be,inGamut:A,toGamut:B,distance:ie,toString:I});Object.assign($,{util:F,hooks:S,WHITES:b,Space:m,spaces:m.registry,parse:W,defaults:x});let gi=$;export{gi as default};
